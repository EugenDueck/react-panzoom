module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePanZoom=t.default=void 0;var o=n(20);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}});var u=n(21);Object.defineProperty(t,"usePanZoom",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.position,n=e.zoom;return n?"translate("+t.x+"px, "+t.y+"px) scale("+n+")":"translate("+t.x+"px, "+t.y+"px)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_BOX_STYLE=t.SELECT_STYLE=t.ELEMENT_STYLE_DISABLED=t.ELEMENT_STYLE=t.CHILD_DISABLED_STYLE=t.CHILD_STYLE=t.PARENT_STYLE=t.GRABBING_CLASS_NAME=t.CLASS_NAME=void 0,t.CLASS_NAME="react-panzoom",t.GRABBING_CLASS_NAME=t.CLASS_NAME+"--grabbing",t.PARENT_STYLE={width:"100%",height:"100%",overflow:"hidden",touchAction:"none",WebkitFontSmoothing:"antialiased"},t.CHILD_STYLE={position:"relative",transformOrigin:"0 0",pointerEvents:"none"},t.CHILD_DISABLED_STYLE={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},t.ELEMENT_STYLE={display:"inline-block",position:"absolute",left:0,top:0,pointerEvents:"all"},t.ELEMENT_STYLE_DISABLED={pointerEvents:"none"},t.SELECT_STYLE={position:"absolute",width:"100%",height:"100%",left:0,top:0},t.SELECT_BOX_STYLE={backgroundColor:"#ccc",opacity:.5,zIndex:2147483647}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.onMouseMove=t.onMouseUp=t.onMouseDown=void 0;var o=r(n(10)),u=function(e,t,n){return t.forEach((function(t){e.addEventListener(t,n)})),function(){t.forEach((function(t){e.removeEventListener(t,n)}))}};t.onMouseDown=function(e,t){return u(e,["mousedown","touchstart"],t)};t.onMouseUp=function(e,t){var n=u(window,["mouseup"],t),r=u(e,["touchend","touchcancel"],t);return function(){n(),r()}};t.onMouseMove=function(e){var t=u(window,["mousemove"],e),n=u(window,["touchmove"],(function(t){o.default(t)||e(t)}));return function(){t(),n()}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSelect=t.default=void 0;var o=n(37);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}});var u=n(38);Object.defineProperty(t,"useSelect",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.touches;if(t)return{clientX:t[0].clientX,clientY:t[0].clientY};var n=e;return{clientX:n.clientX,clientY:n.clientY}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).createContext({});t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return r({},e.current)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return Math.round(100*e)/100}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return"touches"in e&&e.touches.length>1}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(29));t.default=function(e){var t=e.boundary,n=e.x,o=e.y,i=e.parent,a=e.rect,f=function(e){var t=e.boundary,n=e.parent,o=e.rect;if(!t)return{top:void 0,right:void 0,bottom:void 0,left:void 0};var i={containerWidth:n.width,containerHeight:n.height,childWidth:o.width,childHeight:o.height},a={top:0,left:0,right:"containerWidth",bottom:"containerHeight"};return["top","left","right","bottom"].reduce((function(e,n){var o,f=!0===t?void 0:t[n],c=u.default(void 0===f?a[n]:f,i);return r(r({},e),((o={})[n]=c,o))}),{})}({boundary:t,parent:i,rect:a}),c={};return c.x=function(e){var t=e.boundary,n=e.x,r=e.parent,o=e.rect,u=Math.max(o.width-r.width,0);if(void 0===t.left&&void 0===t.right)return n;if(void 0!==t.left&&void 0===t.right)return Math.max(n,t.left-u);if(void 0===t.left&&void 0!==t.right)return Math.min(n,t.right-o.width+u);var i=t.left-u;if(n<i)return i;var a=t.right-o.width+u;return n>a?a:n}({boundary:f,x:n,parent:i,rect:a}),c.y=function(e){var t=e.boundary,n=e.y,r=e.parent,o=e.rect,u=Math.max(o.height-r.height,0);if(void 0===t.top&&void 0===t.bottom)return n;if(void 0!==t.top&&void 0===t.bottom)return Math.max(n,t.top-u);if(void 0===t.top&&void 0!==t.bottom)return Math.min(n,t.bottom-o.height+u);var i=t.top-u;if(n<i)return i;var a=t.bottom-o.height+u;return n>a?a:n}({boundary:f,y:o,parent:i,rect:a}),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=function(){e.done=!0};return e.done=!1,e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=r(n(6));t.default=function(){var e=o.usePanZoom(),t=e.childRef,n=e.positionRef;return function(e){var r=u.default(e),o=t.current.parentNode.getBoundingClientRect();return{x:r.clientX-o.left-(n.current.x||0),y:r.clientY-o.top-(n.current.y||0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).createContext({});t.default=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useElementMouseMovePosition=t.useElementMouseDownPosition=void 0;var o=n(1),u=r(n(6)),i=r(n(16));t.useElementMouseDownPosition=function(){var e=o.usePanZoom(),t=e.childRef,n=e.zoomRef;return function(e,r){var o=u.default(e),i=t.current.parentNode.getBoundingClientRect(),a=r.current.getBoundingClientRect();return{x:(o.clientX-a.left+i.left)/n.current,y:(o.clientY-a.top+i.top)/n.current}}};t.useElementMouseMovePosition=function(){var e=o.usePanZoom(),t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e,o,a){var f=u.default(e);return i.default({element:a.current,container:t.current,x:(f.clientX-n.current.x)/r.current-o.x,y:(f.clientY-n.current.y)/r.current-o.y,zoom:r.current})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.element,n=e.container,r=e.x,o=e.y,u=e.zoom,i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),f=(a.width-i.width)/u,c=(a.height-i.height)/u,l={};return l.x=r<0?0:r>f?f:r,l.y=o<0?0:o>c?c:o,l}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Element=t.default=void 0;var o=n(18);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}});var u=n(43);Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=i(n(0)),c=a(n(19)),l=a(n(28)),s=a(n(30)),d=a(n(34)),v=n(3),p=i(n(1)),h=function(e){var t=e.children,n=e.className,o=e.disabled,u=e.disabledUserSelect,i=e.height,a=void 0===i?"100%":i,h=e.width,_=void 0===h?"100%":h,m=e.selecting,y=p.usePanZoom(),b=y.childRef,g=y.setLoading;l.default(),s.default(),c.default();var M=f.useMemo((function(){var e=[v.CLASS_NAME];return n&&e.push(n),o&&e.push(v.CLASS_NAME+"--disabled"),u&&e.push(v.CLASS_NAME+"--disabled-user-select"),e.join(" ")}),[n,o,u]),E=f.useMemo((function(){var e=[v.CLASS_NAME+"__in"];return n&&(e.push(n+"__in"),m&&e.push(n+"__selecting")),e.join(" ")}),[n,m]),O=f.useMemo((function(){var e=r(r({},v.CHILD_STYLE),{height:a,width:_});return u&&(e=r(r({},e),v.CHILD_DISABLED_STYLE)),m&&(e.pointerEvents="all"),e}),[n,u,a,_,m]);return f.default.createElement("div",{className:M,style:v.PARENT_STYLE},f.default.createElement("div",{draggable:!1,className:E,ref:function(e){b.current=e,g(!1)},style:O},t,m&&f.default.createElement(d.default,null)))};t.default=f.forwardRef((function(e,t){return f.default.createElement(p.default,r({apiRef:t},e),f.default.createElement(h,r({},e)))}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(1),i=n(22),a=r(n(23)),f=n(24),c=r(n(25)),l=n(26),s=r(n(27));t.default=function(){var e=u.usePanZoom(),t=e.apiRef,n=e.childRef,r=e.elementsRef,d=e.positionRef,v=e.zoomRef,p=s.default(),h=p.withEventAll,_=p.withEventPosition,m=p.withEventZoom;if(t){var y=t;o.useImperativeHandle(y,(function(){return{move:_(a.default({childRef:n,positionRef:d,zoomRef:v})),getElements:i.getElements({elementsRef:r}),updateElementPosition:i.updateElementPosition({elementsRef:r}),getPosition:f.getPosition({positionRef:d}),setPosition:_(f.setPosition({childRef:n,positionRef:d,zoomRef:v})),getZoom:l.getZoom({zoomRef:v}),setZoom:m(l.setZoom({childRef:n,positionRef:d,zoomRef:v})),zoomIn:m(l.zoomIn({childRef:n,positionRef:d,zoomRef:v})),zoomOut:m(l.zoomOut({childRef:n,positionRef:d,zoomRef:v})),ref:function(){return n},reset:h(c.default({childRef:n,positionRef:d,zoomRef:v}))}}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=i(n(0)),l=f(n(7));t.default=function(e){var t=e.children,n=e.zoomMin,o=void 0===n?.3:n,u=e.zoomMax,i=void 0===u?5:u,f=e.zoomSpeed,s=void 0===f?1:f,d=a(e,["children","zoomMin","zoomMax","zoomSpeed"]),v=c.useState(!0),p=v[0],h=v[1],_=c.useRef(),m=c.useRef({}),y=c.useRef(!1),b=c.useRef(),g=c.useRef();return g.current||(g.current=1),b.current||(b.current={x:0,y:0}),c.default.createElement(l.default.Provider,{value:r({blockMovingRef:y,childRef:_,elementsRef:m,loading:p,positionRef:b,setLoading:h,zoomRef:g,zoomMin:o,zoomMax:i,zoomSpeed:s},d)},t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(n(7));t.default=function(){return o.useContext(u.default)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateElementPosition=t.getElements=void 0;var o=r(n(2));t.getElements=function(e){var t=e.elementsRef;return function(){return t.current}};t.updateElementPosition=function(e){var t=e.elementsRef;return function(e,n){var r=t.current[e];r&&(r.node.current.style.transform=o.default({position:n}),r.position=n)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(8)),u=r(n(2));t.default=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e,i){var a=t,f=n;return f.current?f.current={x:n.current.x+e,y:n.current.y+i}:f.current={x:e,y:i},a.current.style.transform=u.default({position:n.current,zoom:r.current}),o.default(n)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=void 0;var o=r(n(8)),u=r(n(2));t.getPosition=function(e){var t=e.positionRef;return function(){return o.default(t)}};t.setPosition=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e,o){var i=t;n.current={x:e,y:o},i.current.style.transform=u.default({position:n.current,zoom:r.current})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2));t.default=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(){var e=t,u=n;r.current=1,u.current={x:0,y:0},e.current.style.transform=o.default({position:n.current,zoom:r.current})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.zoomOut=t.zoomIn=t.setZoom=t.getZoom=void 0;var o=r(n(2)),u=r(n(9));t.getZoom=function(e){var t=e.zoomRef;return function(){return t.current}};t.setZoom=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e){var i=t;r.current=u.default(e),i.current.style.transform=o.default({position:n.current,zoom:r.current})}};t.zoomIn=function(e){var n=e.childRef,r=e.positionRef,o=e.zoomRef;return function(e){t.setZoom({childRef:n,positionRef:r,zoomRef:o})(t.getZoom({zoomRef:o})()+e)}};t.zoomOut=function(e){var n=e.childRef,r=e.positionRef,o=e.zoomRef;return function(e){t.setZoom({childRef:n,positionRef:r,zoomRef:o})(t.getZoom({zoomRef:o})()-e)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=function(){var e=o.usePanZoom(),t=e.onContainerChange,n=e.onContainerPositionChange,u=e.onContainerZoomChange,i=e.positionRef,a=e.zoomRef,f=function(e){var o=e.position,f=e.zoom,c={position:r({},i.current),zoom:a.current};o&&t&&t(c),o&&n&&n(c),f&&u&&u(c)},c=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(void 0,n);return f(t),o}};return{withEventAll:function(e){return c(e,{position:!0,zoom:!0})},withEventPosition:function(e){return c(e,{position:!0,zoom:!1})},withEventZoom:function(e){return c(e,{position:!1,zoom:!0})}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),i=n(1),a=n(3),f=n(4),c=o(n(6)),l=o(n(11)),s=o(n(2)),d=o(n(12)),v=o(n(13));t.default=function(){var e=u.useState(null),t=e[0],n=e[1],o=i.usePanZoom(),p=o.blockMovingRef,h=o.boundary,_=o.childRef,m=o.disabled,y=o.disabledMove,b=o.loading,g=o.onContainerChange,M=o.onContainerClick,E=o.onContainerPositionChange,O=o.positionRef,P=o.zoomRef,R=_.current,j=v.default();return u.useEffect((function(){if(!b){var e=_.current;if(e){var t=f.onMouseDown(e.parentNode,(function(e){var t=j(e),r=d.default();document.body.style.userSelect="none",document.body.classList.add(a.GRABBING_CLASS_NAME),M&&M({e:e,x:t.x/P.current,y:t.y/P.current,stop:r}),m||y||r.done||n(t)})),r=f.onMouseUp(e.parentNode,(function(){document.body.style.userSelect=null,document.body.classList.remove(a.GRABBING_CLASS_NAME),n(null)}));return function(){t(),r()}}}}),[m,y,b,M]),u.useEffect((function(){if(!b&&t){return f.onMouseMove((function(e){if(!p.current){R.style.transition=null;var n=_.current.parentNode.getBoundingClientRect(),o=c.default(e),u=l.default({boundary:h,x:o.clientX-n.left-t.x,y:o.clientY-n.top-t.y,parent:n,rect:_.current.getBoundingClientRect()});O.current=u,R.style.transform=s.default({position:O.current,zoom:P.current});var i={position:r({},O.current),zoom:P.current};g&&g(i),E&&E(i)}}))}}),[h,b,t,g,E]),O}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["containerWidth","containerHeight","childWidth","childHeight"];t.default=function(e,t){if(void 0===t&&(t={}),"number"==typeof e)return e;if(!isNaN(parseInt(e)))return e;for(var n=[],o=[],u="",i=function(){var e;r.includes(u)?n.push(t[u]):n.push((e=u).endsWith("px")?parseInt(e.replace("px",""),10):parseInt(e,10)),u=""},a=0;a<e.length;a++){var f=e[a];switch(f){case" ":break;case"+":case"-":i(),o.push(f);break;default:u+=f}}for(i();o.length;){var c=o.shift(),l=n.shift()||0,s=n.shift()||0;"+"===c?n.unshift(l+s):"-"===c&&n.unshift(l-s)}return n.pop()}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),i=n(1),a=o(n(10)),f=o(n(2)),c=o(n(11)),l=o(n(31)),s=o(n(32)),d=o(n(33));t.default=function(){var e=i.usePanZoom(),t=e.blockMovingRef,n=e.boundary,o=e.childRef,v=e.disabled,p=e.disabledZoom,h=e.loading,_=e.positionRef,m=e.onContainerChange,y=e.onContainerZoomChange,b=e.zoomMax,g=e.zoomMin,M=e.zoomRef,E=e.zoomSpeed,O=o.current,P=[JSON.stringify(n),o,v,p,h,E];return u.useEffect((function(){if(!(h||v||p)){var e,o,u="ontouchstart"in window,i=function(e,t){var o=t.isDesktop,u=O.parentNode.getBoundingClientRect(),i=(e.clientX-u.left-_.current.x)/M.current,a=(e.clientY-u.top-_.current.y)/M.current,s=l.default({e:e,isDesktop:o,zoomRef:M,zoomSpeed:E,zoomMin:g,zoomMax:b});M.current=s;var d=c.default({boundary:n,x:e.clientX-u.left-i*s,y:e.clientY-u.top-a*s,parent:u,rect:O.getBoundingClientRect()});_.current=d,O.style.transform=f.default({position:d,zoom:s}),O.style.setProperty("--zoom",s.toString()),m&&m({position:r({},_.current),zoom:s}),y&&y({zoom:s,position:r({},_.current)})},P=s.default(i,100),R=s.default(i,5),j=d.default(),S=j[0],x=j[1],w=(e=null,o=null,function(n){var r=n.isDesktop;clearTimeout(e),clearTimeout(o),e=setTimeout((function(){x(),u||(O.style.transition=null)}),300),r||(o=setTimeout((function(){t.current=!1}),300),t.current=!0),u||(O.style.transition="transform 0.3s")}),L=function(e){w({isDesktop:!0}),P(e,{isDesktop:!0})},z=function(e){a.default(e)&&(w({isDesktop:!1}),R(S(e),{isDesktop:!1}))};return u?(O.parentNode.addEventListener("touchmove",z),O.parentNode.addEventListener("touchup",x),O.parentNode.addEventListener("touchend",x),O.parentNode.addEventListener("touchcancel",x)):O.parentNode.addEventListener("wheel",L),function(){u?(O.parentNode.removeEventListener("touchmove",z),O.parentNode.removeEventListener("touchup",x),O.parentNode.removeEventListener("touchend",x),O.parentNode.removeEventListener("touchcancel",x),R.cancel()):(O.parentNode.removeEventListener("wheel",L),P.cancel())}}}),P),M}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(9));t.default=function(e){var t=e.e,n=e.isDesktop,r=e.zoomRef,u=e.zoomSpeed,i=e.zoomMin,a=e.zoomMax,f=1+u*(n?.25:.04);return o.default(function(){if(!t.deltaY)return r.current;if(t.deltaY<0){var e=r.current*f;return a&&e>=a?a:e}var n=r.current/f;return i&&n<=i?i:n}())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r=!1,o=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];r||(e.apply(void 0,o),r=!0,n=setTimeout((function(){r=!1}),t))};return o.cancel=function(){clearTimeout(n)},o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=null,t={};return[function(n){for(var r=0;r<n.touches.length;r++)t[n.touches.item(r).identifier]=!0;if(2!==Object.keys(t).length)return null;n.preventDefault(),n.stopPropagation();var o=0,u=0;for(r=0;r<n.touches.length;r++)o+=n.touches.item(r).clientX,u+=n.touches.item(r).clientY;o/=n.touches.length,u/=n.touches.length;var i,a,f,c=(i=n.touches,a=Math.abs(i.item(0).clientX-i.item(1).clientX),f=Math.abs(i.item(0).clientY-i.item(1).clientY),Math.sqrt(a*a+f*f));if(null===e||Math.round(c)===Math.round(e))return e=c,{deltaY:0,clientX:o,clientY:u};var l=c>e?-1:1;return e=c,{deltaY:l,clientX:o,clientY:u}},function(n){n&&(t={}),e=null}]}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(35);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=i(n(0)),c=n(3),l=a(n(36)),s=a(n(39)),d=a(n(40)),v=i(n(5)),p=function(){var e=v.useSelect(),t=e.selectRef,n=e.expandingRef,o=e.movingRef,u=l.default(),i=u.boundary,a=u.expanding,p=d.default();s.default({grabElementsRef:p});var h=f.useMemo((function(){var e=r({},c.SELECT_BOX_STYLE);return i&&(e.transform="translate("+i.left+"px, "+i.top+"px)",e.width=i.width,e.height=i.height),e}),[i]);return f.default.createElement("div",{ref:t,style:c.SELECT_STYLE},a&&!i&&f.default.createElement("div",{ref:n,style:c.SELECT_BOX_STYLE}),i&&f.default.createElement("div",{ref:o,style:h}))};t.default=function(){return f.default.createElement(v.default,null,f.default.createElement(p,null))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(1),i=n(4),a=r(n(13)),f=n(5);t.default=function(){var e=o.useState(null),t=e[0],n=e[1],r=f.useSelect(),c=r.boundary,l=r.setBoundary,s=r.selectRef,d=r.expandingRef,v=o.useRef(),p=u.usePanZoom(),h=p.childRef,_=p.zoomRef,m=a.default(),y=function(e,t){var n=h.current.getBoundingClientRect(),r=m(e);r.x<0?r.x=0:r.x>n.width&&(r.x=n.width),r.y<0?r.y=0:r.y>n.height&&(r.y=n.height);var o={width:(r.x-t.x)/_.current,height:(r.y-t.y)/_.current,left:t.x/_.current,top:t.y/_.current};o.width<0&&(o.width=-o.width,o.left-=o.width),o.height<0&&(o.height=-o.height,o.top-=o.height),o.right=o.left+o.width,o.bottom=o.top+o.height,d.current.style.transform="translate("+o.left+"px, "+o.top+"px)",d.current.style.width=o.width+"px",d.current.style.height=o.height+"px",v.current=o};return o.useLayoutEffect((function(){if(!t&&!c){var e=function(e){e.preventDefault(),e.stopPropagation();var t=m(e);n(t),y(e,t)};return s.current.addEventListener("mousedown",e),function(){s.current.removeEventListener("mousedown",e)}}}),[c,t]),o.useEffect((function(){if(t&&!c){var e=i.onMouseMove((function(e){return y(e,t)})),r=i.onMouseUp(window,(function(e){y(e,t),n(null),l(v.current)}));return function(){e(),r()}}}),[c,t]),{expanding:t,boundary:c}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),f=i(n(14));t.default=function(e){var t=e.children,n=a.useRef(),r=a.useRef(),o=a.useRef(),u=a.useState(null),i=u[0],c=u[1],l=a.useState(null),s=l[0],d=l[1];return a.default.createElement(f.default.Provider,{value:{boundary:i,setBoundary:c,expandingRef:n,movingRef:r,selectRef:o,move:s,setMove:d}},t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(n(14));t.default=function(){return o.useContext(u.default)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),u=n(15),i=n(5);t.default=function(e){var t=e.grabElementsRef,n=i.useSelect(),a=n.boundary,f=n.setBoundary,c=n.movingRef,l=n.selectRef,s=n.move,d=n.setMove,v=u.useElementMouseDownPosition(),p=u.useElementMouseMovePosition();r.useLayoutEffect((function(){if(a){var e=o.onMouseDown(l.current,(function(e){e.preventDefault(),e.stopPropagation(),f(null)})),t=o.onMouseDown(c.current,(function(e){e.preventDefault(),e.stopPropagation();var t=v(e,l),n={x:t.x-a.left,y:t.y-a.top};d(n)}));return function(){e(),t()}}}),[a]),r.useLayoutEffect((function(){if(s){var e=o.onMouseMove((function(e){e.preventDefault(),e.stopPropagation();var n=p(e,s,c);c.current.style.transform="translate("+n.x+"px, "+n.y+"px)",t.current(n)})),n=o.onMouseUp(window,(function(){d(null),f(null)}));return function(){e(),n()}}}),[a,s])}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(1),i=r(n(16)),a=n(5),f=r(n(41)),c=r(n(42));t.default=function(){var e=a.useSelect().boundary,t=u.usePanZoom(),n=t.childRef,r=t.elementsRef,l=t.onElementsChange,s=t.zoomRef,d=o.useRef();return o.useLayoutEffect((function(){if(e){var t=f.default(e,r.current),o=c.default(t),u=null;return d.current=function(e){u||(u=e);var a={};Object.entries(t).forEach((function(t){var f=t[0],c=t[1],l=o[f],d=c.node,v=i.default({element:c.node.current,container:n.current,x:l.x+(e.x-u.x),y:l.y+(e.y-u.y),zoom:s.current});r.current[c.id].position=v,a[f]=v,d.current.style.transform="translate("+v.x+"px, "+v.y+"px)"})),l&&l(a)},function(){d.current=null}}}),[e]),d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={};return Object.entries(t).forEach((function(t){var r=t[0],o=t[1];o.position.x>=e.left&&o.position.x<=e.right&&o.position.y>=e.top&&o.position.y<=e.bottom&&(n[r]=o)})),n}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],o=e[1];t[n]=r({},o.position)})),t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(44);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=i(n(0)),c=n(1),l=n(3),s=n(4),d=a(n(2)),v=a(n(12)),p=n(15),h=2;t.default=f.memo((function(e){var t=e.children,n=e.className,o=e.disabled,u=void 0!==o&&o,i=e.draggableSelector,a=e.family,_=e.followers,m=void 0===_?[]:_,y=e.id,b=e.onClick,g=e.onMouseUp,M=e.x,E=void 0===M?0:M,O=e.y,P=void 0===O?0:O;if(!y)throw new Error("'id' prop for element can't be undefined");var R=p.useElementMouseDownPosition(),j=p.useElementMouseMovePosition(),S=f.useState(null),x=S[0],w=S[1],L=f.useRef(),z=c.usePanZoom(),D=z.blockMovingRef,C=z.boundary,N=z.disabledElements,T=z.elementsRef,Y=z.onElementsChange;f.useLayoutEffect((function(){var e={x:E,y:P};return L.current.style.transform=d.default({position:e}),T.current[y]={family:a,id:y,node:L,position:e},function(){delete T.current[y]}}),[y,E,P]),f.useEffect((function(){if(!N&&x){var e=s.onMouseUp(L.current,(function(e){w(null),g&&g(r({id:y,family:a,e:e},T.current[y].position))}));return function(){e()}}}),[N,y,!!x]),f.useEffect((function(){if(x&&!N){return s.onMouseMove((function(e){if(D.current)w(null);else{var t={},n=function(){var e=null,t=function(n,r){(null===e||Math.abs(n-r)<Math.abs(e))&&(t.value=e=n-r)};return t.value=e,t},r=n(),o=n();Object.entries(x).forEach((function(t){var n=t[0],u=t[1],i=T.current[n],a=j(e,u,i.node);r(i.position.x,a.x),o(i.position.y,a.y)})),Object.entries(x).forEach((function(e){var n=e[0],u=T.current[n],i={x:u.position.x-r.value,y:u.position.y-o.value};t[n]=i,u.position=i,u.node.current.style.transform="translate("+i.x+"px, "+i.y+"px)"})),Y&&Y(t)}}))}}),[JSON.stringify(C),N,y,x,Y]),f.useLayoutEffect((function(){if(!u){return s.onMouseDown(L.current,(function(e){if(!i||e.target.closest(i)){var t=Object.values(T.current).filter((function(e){return e.id===y||a&&e.family===a||m.includes(e.id)})),n=R(e,L),o=v.default();b&&b(r({id:y,family:a,e:e,stop:o},n)),e.preventDefault(),e.stopPropagation(),o.done||(w(t.reduce((function(t,n){var r=R(e,n.node);return t[n.id]=r,t}),{})),h+=1,L.current.style.zIndex=h.toString())}}))}}),[u,a,JSON.stringify(m),y]);var A=f.useMemo((function(){var e="react-panzoom-element",t=[e];return n&&t.push(n),u&&t.push(e+"--disabled"),t.push(e+"--id-"+y),t.join(" ")}),[n,u,y]),B=f.useMemo((function(){var e=r({},l.ELEMENT_STYLE);return u&&(e=r(r({},e),l.ELEMENT_STYLE_DISABLED)),e}),[u]);return f.default.createElement("div",{ref:L,className:A,style:B},t)}))}]);