module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePanZoom=t.default=void 0;var o=n(24);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}});var u=n(25);Object.defineProperty(t,"usePanZoom",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.position,n=e.zoom;return n?"translate("+t.x+"px, "+t.y+"px) scale("+n+")":"translate("+t.x+"px, "+t.y+"px)"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZOOM_NON_DESKTOP_MOVING_BLOCK_DELAY=t.ZOOM_NON_DESKTOP_THROTTLE_DELAY=t.ZOOM_INITIAL=t.ZOOM_DESKTOP_THROTTLE_DELAY=t.ZOOM_ANIMATION_DELAY_STR=t.ZOOM_ANIMATION_DELAY=t.ZOOM_PRECISION=t.ZOOM_SPEED_DEFAULT=t.ZOOM_MAX_DEFAULT=t.ZOOM_MIN_DEFAULT=t.ZOOM_NON_DESKTOP_DEFAULT_STEP=t.ZOOM_DESKTOP_DEFAULT_STEP=t.ELEMENT_AUTO_MOVE_STEP=t.ELEMENT_AUTO_MOVE_SPEED=t.CURSOR_ON_EDGE_MARGIN=void 0,t.CURSOR_ON_EDGE_MARGIN=30,t.ELEMENT_AUTO_MOVE_SPEED=20,t.ELEMENT_AUTO_MOVE_STEP=15,t.ZOOM_DESKTOP_DEFAULT_STEP=.25,t.ZOOM_NON_DESKTOP_DEFAULT_STEP=.04,t.ZOOM_MIN_DEFAULT=.3,t.ZOOM_MAX_DEFAULT=5,t.ZOOM_SPEED_DEFAULT=1,t.ZOOM_PRECISION=1e4,t.ZOOM_ANIMATION_DELAY=300,t.ZOOM_ANIMATION_DELAY_STR=t.ZOOM_ANIMATION_DELAY/1e3+"s",t.ZOOM_DESKTOP_THROTTLE_DELAY=100,t.ZOOM_INITIAL=1,t.ZOOM_NON_DESKTOP_THROTTLE_DELAY=5,t.ZOOM_NON_DESKTOP_MOVING_BLOCK_DELAY=300},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useElements=t.default=void 0;var o=n(26);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}}),Object.defineProperty(t,"useElements",{enumerable:!0,get:function(){return o.useElements}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_BOX_STYLE=t.SELECT_STYLE=t.ELEMENT_STYLE_DISABLED=t.ELEMENT_STYLE=t.CHILD_DISABLED_STYLE=t.CHILD_STYLE=t.PARENT_STYLE=t.GRABBING_CLASS_NAME=t.CLASS_NAME=void 0,t.CLASS_NAME="react-panzoom",t.GRABBING_CLASS_NAME=t.CLASS_NAME+"--grabbing",t.PARENT_STYLE={width:"100%",height:"100%",overflow:"hidden",touchAction:"none",WebkitFontSmoothing:"antialiased"},t.CHILD_STYLE={position:"relative",transformOrigin:"0 0",pointerEvents:"none"},t.CHILD_DISABLED_STYLE={WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},t.ELEMENT_STYLE={display:"inline-block",position:"absolute",left:0,top:0,pointerEvents:"all"},t.ELEMENT_STYLE_DISABLED={pointerEvents:"none"},t.SELECT_STYLE={position:"absolute",width:"100%",height:"100%",left:0,top:0},t.SELECT_BOX_STYLE={backgroundColor:"#ccc",opacity:.5,zIndex:2147483647}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.onMouseMove=t.onMouseUp=t.onMouseDown=void 0;var o=r(n(15)),u=function(e,t,n){return t.forEach((function(t){e.addEventListener(t,n)})),function(){t.forEach((function(t){e.removeEventListener(t,n)}))}};t.onMouseDown=function(e,t){return u(e,["mousedown","touchstart"],t)};t.onMouseUp=function(e,t){var n=u(window,["mouseup"],t),r=u(e,["touchend","touchcancel"],t);return function(){n(),r()}};t.onMouseMove=function(e){var t=u(window,["mousemove"],e),n=u(window,["touchmove"],(function(t){o.default(t)||e(t)}));return function(){t(),n()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.touches;if(t)return{clientX:t[0].clientX,clientY:t[0].clientY};var n=e;return{clientX:n.clientX,clientY:n.clientY}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSelect=t.default=void 0;var o=n(47);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}});var u=n(48);Object.defineProperty(t,"useSelect",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.element,n=e.container,r=e.x,o=e.y,u=e.zoom,i=t.getBoundingClientRect(),a=n.getBoundingClientRect(),f=(a.width-i.width)/u,l=(a.height-i.height)/u,c={x:r,y:o};return c.x<0?c.x=0:c.x>f&&(c.x=f),c.y<0?c.y=0:c.y>l&&(c.y=l),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).createContext({});t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=e.current.parentNode.parentNode,n={x:0,y:0};t;)n.x+=t.scrollLeft||0,n.y+=t.scrollTop||0,t=t.parentNode;return n}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2));t.default=function(e){var t=e.elementsRef,n=e.elementsInMove,r=e.onElementsChange,u=e.produceNextPosition,i={},a=function(){var e=null,t=function(n,r){(null===e||Math.abs(n-r)<Math.abs(e))&&(t.value=e=n-r)};return t.value=e,t},f=a(),l=a();Object.entries(n).forEach((function(e){var n=e[0],r=e[1],o=t.current[n],i=u(r,o);f(o.position.x,i.x),l(o.position.y,i.y)})),Object.entries(n).forEach((function(e){var n=e[0],r=t.current[n],u={x:r.position.x-f.value,y:r.position.y-l.value};i[n]=u,r.position=u,r.node.current.style.transform=o.default({position:u})})),r&&r(i)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return r({},e.current)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default=function(e){return Math.round(e*r.ZOOM_PRECISION)/r.ZOOM_PRECISION}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return"touches"in e&&e.touches.length>1}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(39));t.default=function(e){var t=e.boundary,n=e.x,o=e.y,i=e.parent,a=e.rect,f=function(e){var t=e.boundary,n=e.parent,o=e.rect;if(!t)return{top:void 0,right:void 0,bottom:void 0,left:void 0};var i={containerWidth:n.width,containerHeight:n.height,childWidth:o.width,childHeight:o.height},a={top:0,left:0,right:"containerWidth",bottom:"containerHeight"};return["top","left","right","bottom"].reduce((function(e,n){var o,f=!0===t?void 0:t[n],l=u.default(void 0===f?a[n]:f,i);return r(r({},e),((o={})[n]=l,o))}),{})}({boundary:t,parent:i,rect:a}),l={};return l.x=function(e){var t=e.boundary,n=e.x,r=e.parent,o=e.rect,u=Math.max(o.width-r.width,0);if(void 0===t.left&&void 0===t.right)return n;if(void 0!==t.left&&void 0===t.right)return Math.max(n,t.left-u);if(void 0===t.left&&void 0!==t.right)return Math.min(n,t.right-o.width+u);var i=t.left-u;if(n<i)return i;var a=t.right-o.width+u;return n>a?a:n}({boundary:f,x:n,parent:i,rect:a}),l.y=function(e){var t=e.boundary,n=e.y,r=e.parent,o=e.rect,u=Math.max(o.height-r.height,0);if(void 0===t.top&&void 0===t.bottom)return n;if(void 0!==t.top&&void 0===t.bottom)return Math.max(n,t.top-u);if(void 0===t.top&&void 0!==t.bottom)return Math.min(n,t.bottom-o.height+u);var i=t.top-u;if(n<i)return i;var a=t.bottom-o.height+u;return n>a?a:n}({boundary:f,y:o,parent:i,rect:a}),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=function(){e.done=!0};return e.done=!1,e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=r(n(7));t.default=function(){var e=o.usePanZoom(),t=e.childRef,n=e.positionRef;return function(e){var r=u.default(e),o=t.current.parentNode.getBoundingClientRect();return{x:r.clientX-o.left-(n.current.x||0),y:r.clientY-o.top-(n.current.y||0)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).createContext({});t.default=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useElementMouseMovePosition=t.useElementMouseDownPosition=void 0;var o=n(1),u=r(n(11)),i=r(n(7)),a=r(n(9));t.useElementMouseDownPosition=function(){var e=o.usePanZoom(),t=e.childRef,n=e.zoomRef;return function(e,r){var o=i.default(e),a=t.current.parentNode.getBoundingClientRect(),f=r.current.getBoundingClientRect(),l=u.default(t);return{x:(o.clientX-f.left+a.left+l.x)/n.current,y:(o.clientY-f.top+a.top+l.y)/n.current}}};t.useElementMouseMovePosition=function(){var e=o.usePanZoom(),t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e,o,f){var l=i.default(e),c=u.default(t);return a.default({element:f.current,container:t.current,x:(l.clientX-n.current.x+c.x)/r.current-o.x,y:(l.clientY-n.current.y+c.y)/r.current-o.y,zoom:r.current})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Element=t.default=void 0;var o=n(22);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}});var u=n(53);Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PanZoom=void 0;var l=i(n(0)),c=f(n(23)),s=f(n(38)),d=f(n(40)),_=f(n(44)),v=n(5),p=f(n(4)),h=i(n(1));t.PanZoom=function(e){var t=e.children,n=h.usePanZoom(),o=n.className,u=n.disabled,i=n.disabledUserSelect,a=n.height,f=n.width,p=n.selecting,m=n.childRef,O=n.setLoading,E=n.zoomRef;s.default(),d.default(),c.default();var y=l.useMemo((function(){var e=[v.CLASS_NAME];return o&&e.push(o),u&&e.push(v.CLASS_NAME+"--disabled"),i&&e.push(v.CLASS_NAME+"--disabled-user-select"),e.join(" ")}),[o,u,i]),M=l.useMemo((function(){var e=[v.CLASS_NAME+"__in"];return o&&(e.push(o+"__in"),p&&e.push(o+"__selecting")),e.join(" ")}),[o,p]),b=l.useMemo((function(){var e=r(r({},v.CHILD_STYLE),{height:a,width:f,transform:"scale("+E.current+")"});return i&&(e=r(r({},e),v.CHILD_DISABLED_STYLE)),p&&(e.pointerEvents="all"),e}),[o,i,a,f,p]);return l.default.createElement("div",{className:y,style:v.PARENT_STYLE},l.default.createElement("div",{draggable:!1,className:M,ref:function(e){m.current=e,O(!1)},style:b},t,p&&l.default.createElement(_.default,null)))};t.default=l.forwardRef((function(e,n){var o=e.children,u=a(e,["children"]);return l.default.createElement(h.default,r({apiRef:n},u),l.default.createElement(p.default,null,l.default.createElement(t.PanZoom,null,o)))}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(1),i=n(4),a=n(32),f=r(n(33)),l=n(34),c=r(n(35)),s=n(36),d=r(n(37));t.default=function(){var e=u.usePanZoom(),t=e.apiRef,n=e.childRef,r=e.positionRef,_=e.zoomRef,v=i.useElements().elementsRef,p=d.default(),h=p.withEventAll,m=p.withEventPosition,O=p.withEventZoom;if(t){var E=t;o.useImperativeHandle(E,(function(){return{move:m(f.default({childRef:n,positionRef:r,zoomRef:_})),getElements:a.getElements({elementsRef:v}),updateElementPosition:a.updateElementPosition({elementsRef:v}),getPosition:l.getPosition({positionRef:r}),setPosition:m(l.setPosition({childRef:n,positionRef:r,zoomRef:_})),getZoom:s.getZoom({zoomRef:_}),setZoom:O(s.setZoom({childRef:n,positionRef:r,zoomRef:_})),zoomIn:O(s.zoomIn({childRef:n,positionRef:r,zoomRef:_})),zoomOut:O(s.zoomOut({childRef:n,positionRef:r,zoomRef:_})),ref:function(){return n},reset:h(c.default({childRef:n,positionRef:r,zoomRef:_}))}}))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=i(n(0)),c=n(3),s=f(n(10));t.default=function(e){var t=e.children,n=e.height,o=void 0===n?"100%":n,u=e.width,i=void 0===u?"100%":u,f=e.zoomInitial,d=void 0===f?c.ZOOM_INITIAL:f,_=e.zoomMin,v=void 0===_?c.ZOOM_MIN_DEFAULT:_,p=e.zoomMax,h=void 0===p?c.ZOOM_MAX_DEFAULT:p,m=e.zoomSpeed,O=void 0===m?c.ZOOM_SPEED_DEFAULT:m,E=e.onElementsChange,y=a(e,["children","height","width","zoomInitial","zoomMin","zoomMax","zoomSpeed","onElementsChange"]),M=l.useState(!0),b=M[0],g=M[1],R=l.useRef(),P=l.useRef(!1),S=l.useRef();S.current=E;var D=l.useRef(),T=l.useRef();return T.current||(T.current=d),D.current||(D.current={x:0,y:0}),l.default.createElement(s.default.Provider,{value:r({blockMovingRef:P,childRef:R,height:o,loading:b,onElementsChangeRef:S,positionRef:D,setLoading:g,width:i,zoomRef:T,zoomMin:v,zoomMax:h,zoomSpeed:O},y)},t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(n(10));t.default=function(){return o.useContext(u.default)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useElements=void 0;var a=u(n(0)),f=i(n(27)),l=a.createContext({});t.useElements=function(){return a.useContext(l)};var c=function(){return f.default(),null};t.default=function(e){var t=e.children,n=a.useState(null),r=n[0],o=n[1],u=a.useRef({}),i=a.useRef();return a.default.createElement(l.Provider,{value:{elementsInMove:r,elementsRef:u,lastElementMouseMoveEventRef:i,setElementsInMove:o}},t,a.default.createElement(c,null))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(3),i=n(1),a=n(4),f=r(n(28)),l=r(n(29)),c=r(n(30)),s=r(n(9)),d=r(n(12));t.default=function(){var e=i.usePanZoom(),t=e.childRef,n=e.disabledElements,r=e.onElementsChange,_=e.positionRef,v=e.zoomRef,p=a.useElements(),h=p.elementsRef,m=p.elementsInMove,O=p.lastElementMouseMoveEventRef;o.useEffect((function(){if(!n&&m){var e=setInterval((function(){if(O.current){var e={x:0,y:0},n=l.default(t,O.current);n.left&&!c.default.left(t,_)?e.x=u.ELEMENT_AUTO_MOVE_STEP:n.right&&!c.default.right(t,_)&&(e.x=-u.ELEMENT_AUTO_MOVE_STEP),n.top&&!c.default.top(t,_)?e.y=u.ELEMENT_AUTO_MOVE_STEP:n.bottom&&!c.default.bottom(t,_)&&(e.y=-u.ELEMENT_AUTO_MOVE_STEP),f.default({childRef:t,positionRef:_,addPosition:e,zoomRef:v}),d.default({elementsRef:h,elementsInMove:m,produceNextPosition:function(n,r){return s.default({element:r.node.current,container:t.current,x:r.position.x-e.x/v.current,y:r.position.y-e.y/v.current,zoom:v.current})},onElementsChange:r})}}),u.ELEMENT_AUTO_MOVE_SPEED);return function(){clearInterval(e),O.current=null}}}),[n,m])}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2)),u=function(e){return e.clientHeight<e.scrollHeight};t.default=function(e){var t=e.childRef,n=e.positionRef,r=e.addPosition,i=e.zoomRef,a=function(e,t,n){var r=e.current.parentNode.parentNode,o=e.current.parentNode.getBoundingClientRect(),i={x:t,y:n},a=o.right>0&&o.right<window.innerWidth&&i.x<0,f=o.bottom>0&&o.bottom<window.innerHeight&&i.y<0;if(a&&f)return i;for(;r;){if(u(r)){if(!a){var l=r.scrollLeft||0;r.scrollLeft-=i.x,i.x+=(r.scrollLeft||0)-l}if(!f){var c=r.scrollTop||0;r.scrollTop-=i.y,i.y+=(r.scrollTop||0)-c}}r=r.parentNode}return i}(t,r.x,r.y);n.current={x:n.current.x+a.x,y:n.current.y+a.y},t.current.style.transform=o.default({position:n.current,zoom:i.current})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.default=function(e,t){var n=e.current.getBoundingClientRect(),o=e.current.parentNode.getBoundingClientRect(),u=o.left>0?o.left:0,i=o.top>0?o.top:0,a=n.left-u;a<0&&(a=0);var f=n.top-i;f<0&&(f=0);var l=Math.min(window.innerWidth-u,n.right,o.right-r.CURSOR_ON_EDGE_MARGIN),c=Math.min(window.innerHeight-i,n.bottom,o.bottom-r.CURSOR_ON_EDGE_MARGIN),s=t.clientX-u,d=t.clientY-i,_={top:!1,bottom:!1,left:!1,right:!1};return a+r.CURSOR_ON_EDGE_MARGIN>s?_.left=!0:s+r.CURSOR_ON_EDGE_MARGIN>l&&(_.right=!0),f+r.CURSOR_ON_EDGE_MARGIN>d?_.top=!0:d+r.CURSOR_ON_EDGE_MARGIN>c&&(_.bottom=!0),_}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(31)),u=r(n(11));t.default={left:function(e,t){var n=u.default(e),r=e.current.parentNode.getBoundingClientRect(),i=o.default(e)[0];return 0<t.current.x+r.left&&t.current.x>=0&&t.current.x<i+n.x},right:function(e,t){var n=u.default(e),r=e.current.getBoundingClientRect(),i=e.current.parentNode.getBoundingClientRect(),a=o.default(e)[0],f=t.current.x+r.width,l=i.left>0?-n.x:document.body.getBoundingClientRect().left-i.left;return 0<f+i.left&&f>=0&&f<a+n.x+l},top:function(e,t){var n=u.default(e),r=e.current.parentNode.getBoundingClientRect(),i=o.default(e)[1];return 0<t.current.y+r.top&&t.current.y>=0&&t.current.y<i+n.y},bottom:function(e,t){var n=u.default(e),r=e.current.getBoundingClientRect(),i=e.current.parentNode.getBoundingClientRect(),a=o.default(e)[1],f=t.current.y+r.height,l=i.top>0?-n.y:document.body.getBoundingClientRect().top-i.top;return 0<f+i.top&&f>=0&&f<a+n.y+l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e.current.parentNode.getBoundingClientRect(),n=Math.min(window.innerWidth-(t.left<0?0:t.left),t.right-t.left,t.right),r=Math.min(window.innerHeight-(t.top<0?0:t.top),t.bottom-t.top,t.bottom);return n<0&&(n=0),r<0&&(r=0),[n,r]}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateElementPosition=t.getElements=void 0;var o=r(n(2));t.getElements=function(e){var t=e.elementsRef;return function(){return t.current}};t.updateElementPosition=function(e){var t=e.elementsRef;return function(e,n){var r=t.current[e];r&&(r.node.current.style.transform=o.default({position:n}),r.position=n)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(13)),u=r(n(2));t.default=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e,i){var a=t,f=n;return f.current?f.current={x:n.current.x+e,y:n.current.y+i}:f.current={x:e,y:i},a.current.style.transform=u.default({position:n.current,zoom:r.current}),o.default(n)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setPosition=t.getPosition=void 0;var o=r(n(13)),u=r(n(2));t.getPosition=function(e){var t=e.positionRef;return function(){return o.default(t)}};t.setPosition=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e,o){var i=t;n.current={x:e,y:o},i.current.style.transform=u.default({position:n.current,zoom:r.current})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(2));t.default=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(){var e=t,u=n;r.current=1,u.current={x:0,y:0},e.current.style.transform=o.default({position:n.current,zoom:r.current})}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.zoomOut=t.zoomIn=t.setZoom=t.getZoom=void 0;var o=r(n(2)),u=r(n(14));t.getZoom=function(e){var t=e.zoomRef;return function(){return t.current}};t.setZoom=function(e){var t=e.childRef,n=e.positionRef,r=e.zoomRef;return function(e){var i=t;r.current=u.default(e),i.current.style.transform=o.default({position:n.current,zoom:r.current})}};t.zoomIn=function(e){var n=e.childRef,r=e.positionRef,o=e.zoomRef;return function(e){t.setZoom({childRef:n,positionRef:r,zoomRef:o})(t.getZoom({zoomRef:o})()+e)}};t.zoomOut=function(e){var n=e.childRef,r=e.positionRef,o=e.zoomRef;return function(e){t.setZoom({childRef:n,positionRef:r,zoomRef:o})(t.getZoom({zoomRef:o})()-e)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=function(){var e=o.usePanZoom(),t=e.onContainerChange,n=e.onContainerPositionChange,u=e.onContainerZoomChange,i=e.positionRef,a=e.zoomRef,f=function(e){var o=e.position,f=e.zoom,l={position:r({},i.current),zoom:a.current};o&&t&&t(l),o&&n&&n(l),f&&u&&u(l)},l=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(void 0,n);return f(t),o}};return{withEventAll:function(e){return l(e,{position:!0,zoom:!0})},withEventPosition:function(e){return l(e,{position:!0,zoom:!1})},withEventZoom:function(e){return l(e,{position:!1,zoom:!0})}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),i=n(1),a=n(5),f=n(6),l=o(n(7)),c=o(n(16)),s=o(n(2)),d=o(n(17)),_=o(n(18));t.default=function(){var e=u.useState(null),t=e[0],n=e[1],o=i.usePanZoom(),v=o.blockMovingRef,p=o.boundary,h=o.childRef,m=o.disabled,O=o.disabledMove,E=o.loading,y=o.onContainerChange,M=o.onContainerClick,b=o.onContainerPositionChange,g=o.positionRef,R=o.zoomRef,P=h.current,S=_.default();return u.useEffect((function(){if(!E){var e=h.current;if(e){var t=f.onMouseDown(e.parentNode,(function(e){var t=S(e),r=d.default();document.body.style.userSelect="none",document.body.classList.add(a.GRABBING_CLASS_NAME),M&&M({e:e,x:t.x/R.current,y:t.y/R.current,stop:r}),m||O||r.done||n(t)})),r=f.onMouseUp(e.parentNode,(function(){document.body.style.userSelect=null,document.body.classList.remove(a.GRABBING_CLASS_NAME),n(null)}));return function(){t(),r()}}}}),[m,O,E]),u.useEffect((function(){if(!E&&t){return f.onMouseMove((function(e){if(!v.current){P.style.transition=null;var n=h.current.parentNode.getBoundingClientRect(),o=l.default(e),u=c.default({boundary:p,x:o.clientX-n.left-t.x,y:o.clientY-n.top-t.y,parent:n,rect:h.current.getBoundingClientRect()});g.current=u,P.style.transform=s.default({position:g.current,zoom:R.current});var i={position:r({},g.current),zoom:R.current};y&&y(i),b&&b(i)}}))}}),[p,E,t]),g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["containerWidth","containerHeight","childWidth","childHeight"];t.default=function(e,t){if(void 0===t&&(t={}),"number"==typeof e)return e;if(!isNaN(parseInt(e)))return e;for(var n=[],o=[],u="",i=function(){var e;r.includes(u)?n.push(t[u]):n.push((e=u).endsWith("px")?parseInt(e.replace("px",""),10):parseInt(e,10)),u=""},a=0;a<e.length;a++){var f=e[a];switch(f){case" ":break;case"+":case"-":i(),o.push(f);break;default:u+=f}}for(i();o.length;){var l=o.shift(),c=n.shift()||0,s=n.shift()||0;"+"===l?n.unshift(c+s):"-"===l&&n.unshift(c-s)}return n.pop()}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(0),i=n(3),a=n(1),f=o(n(15)),l=o(n(2)),c=o(n(16)),s=o(n(41)),d=o(n(42)),_=o(n(43));t.default=function(){var e=a.usePanZoom(),t=e.blockMovingRef,n=e.boundary,o=e.childRef,v=e.disabled,p=e.disabledZoom,h=e.loading,m=e.positionRef,O=e.onContainerChange,E=e.onContainerZoomChange,y=e.zoomInitial,M=e.zoomMax,b=e.zoomMin,g=e.zoomRef,R=e.zoomSpeed,P=o.current,S=[JSON.stringify(n),o,v,p,h,y,R,M,b];return u.useEffect((function(){if(!(h||v||p)){var e,o,u="ontouchstart"in window,a=function(e,t){var o=t.isDesktop,u=P.parentNode.getBoundingClientRect(),i=(e.clientX-u.left-m.current.x)/g.current,a=(e.clientY-u.top-m.current.y)/g.current,f=s.default({e:e,isDesktop:o,zoomRef:g,zoomSpeed:R,zoomMin:b,zoomMax:M});g.current=f;var d=c.default({boundary:n,x:e.clientX-u.left-i*f,y:e.clientY-u.top-a*f,parent:u,rect:P.getBoundingClientRect()});m.current=d,P.style.transform=l.default({position:d,zoom:f}),P.style.setProperty("--zoom",f.toString()),O&&O({position:r({},m.current),zoom:f}),E&&E({zoom:f,position:r({},m.current)})},y=d.default(a,i.ZOOM_DESKTOP_THROTTLE_DELAY),S=d.default(a,i.ZOOM_NON_DESKTOP_THROTTLE_DELAY),D=_.default(),T=D[0],j=D[1],L=(e=null,o=null,function(n){var r=n.isDesktop;clearTimeout(e),clearTimeout(o),e=setTimeout((function(){j(),u||(P.style.transition=null)}),i.ZOOM_ANIMATION_DELAY),r||(o=setTimeout((function(){t.current=!1}),i.ZOOM_NON_DESKTOP_MOVING_BLOCK_DELAY),t.current=!0),u||(P.style.transition="transform "+i.ZOOM_ANIMATION_DELAY_STR)}),N=function(e){e.preventDefault(),L({isDesktop:!0}),y(e,{isDesktop:!0})},x=function(e){f.default(e)&&(L({isDesktop:!1}),S(T(e),{isDesktop:!1}))};return u?(P.parentNode.addEventListener("touchmove",x),P.parentNode.addEventListener("touchup",j),P.parentNode.addEventListener("touchend",j),P.parentNode.addEventListener("touchcancel",j)):P.parentNode.addEventListener("wheel",N),function(){u?(P.parentNode.removeEventListener("touchmove",x),P.parentNode.removeEventListener("touchup",j),P.parentNode.removeEventListener("touchend",j),P.parentNode.removeEventListener("touchcancel",j),S.cancel()):(P.parentNode.removeEventListener("wheel",N),y.cancel())}}}),S),g}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),u=r(n(14));t.default=function(e){var t=e.e,n=e.isDesktop,r=e.zoomRef,i=e.zoomSpeed,a=e.zoomMin,f=e.zoomMax,l=1+i*(n?o.ZOOM_DESKTOP_DEFAULT_STEP:o.ZOOM_NON_DESKTOP_DEFAULT_STEP);return u.default(function(){if(!t.deltaY)return r.current;if(t.deltaY<0){var e=r.current*l;return f&&e>=f?f:e}var n=r.current/l;return a&&n<=a?a:n}())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n,r=!1,o=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];r||(e.apply(void 0,o),r=!0,n=setTimeout((function(){r=!1}),t))};return o.cancel=function(){clearTimeout(n)},o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=null,t={};return[function(n){for(var r=0;r<n.touches.length;r++)t[n.touches.item(r).identifier]=!0;if(2!==Object.keys(t).length)return null;n.preventDefault(),n.stopPropagation();var o=0,u=0;for(r=0;r<n.touches.length;r++)o+=n.touches.item(r).clientX,u+=n.touches.item(r).clientY;o/=n.touches.length,u/=n.touches.length;var i,a,f,l=(i=n.touches,a=Math.abs(i.item(0).clientX-i.item(1).clientX),f=Math.abs(i.item(0).clientY-i.item(1).clientY),Math.sqrt(a*a+f*f));if(null===e||Math.round(l)===Math.round(e))return e=l,{deltaY:0,clientX:o,clientY:u};var c=l>e?-1:1;return e=l,{deltaY:c,clientX:o,clientY:u}},function(n){n&&(t={}),e=null}]}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(45);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=i(n(0)),l=n(5),c=a(n(46)),s=a(n(49)),d=a(n(50)),_=i(n(8)),v=function(){var e=_.useSelect(),t=e.selectRef,n=e.expandingRef,o=e.movingRef,u=c.default(),i=u.boundary,a=u.expanding,v=d.default();s.default({grabElementsRef:v});var p=f.useMemo((function(){var e=r({},l.SELECT_BOX_STYLE);return i&&(e.transform="translate("+i.left+"px, "+i.top+"px)",e.width=i.width,e.height=i.height),e}),[i]);return f.default.createElement("div",{ref:t,style:l.SELECT_STYLE},a&&!i&&f.default.createElement("div",{ref:n,style:l.SELECT_BOX_STYLE}),i&&f.default.createElement("div",{ref:o,style:p}))};t.default=function(){return f.default.createElement(_.default,null,f.default.createElement(v,null))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(1),i=n(6),a=r(n(18)),f=n(8);t.default=function(){var e=o.useState(null),t=e[0],n=e[1],r=f.useSelect(),l=r.boundary,c=r.setBoundary,s=r.selectRef,d=r.expandingRef,_=o.useRef(),v=u.usePanZoom(),p=v.childRef,h=v.zoomRef,m=a.default(),O=function(e,t){var n=p.current.getBoundingClientRect(),r=m(e);r.x<0?r.x=0:r.x>n.width&&(r.x=n.width),r.y<0?r.y=0:r.y>n.height&&(r.y=n.height);var o={width:(r.x-t.x)/h.current,height:(r.y-t.y)/h.current,left:t.x/h.current,top:t.y/h.current};o.width<0&&(o.width=-o.width,o.left-=o.width),o.height<0&&(o.height=-o.height,o.top-=o.height),o.right=o.left+o.width,o.bottom=o.top+o.height,d.current.style.transform="translate("+o.left+"px, "+o.top+"px)",d.current.style.width=o.width+"px",d.current.style.height=o.height+"px",_.current=o};return o.useLayoutEffect((function(){if(!t&&!l){var e=function(e){e.preventDefault(),e.stopPropagation();var t=m(e);n(t),O(e,t)};return s.current.addEventListener("mousedown",e),function(){s.current.removeEventListener("mousedown",e)}}}),[l,t]),o.useEffect((function(){if(t&&!l){var e=i.onMouseMove((function(e){return O(e,t)})),r=i.onMouseUp(window,(function(e){O(e,t),n(null),c(_.current)}));return function(){e(),r()}}}),[l,t]),{expanding:t,boundary:l}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),f=i(n(19));t.default=function(e){var t=e.children,n=a.useRef(),r=a.useRef(),o=a.useRef(),u=a.useState(null),i=u[0],l=u[1],c=a.useState(null),s=c[0],d=c[1];return a.default.createElement(f.default.Provider,{value:{boundary:i,setBoundary:l,expandingRef:n,movingRef:r,selectRef:o,move:s,setMove:d}},t)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=r(n(19));t.default=function(){return o.useContext(u.default)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),u=n(20),i=n(8);t.default=function(e){var t=e.grabElementsRef,n=i.useSelect(),a=n.boundary,f=n.setBoundary,l=n.movingRef,c=n.selectRef,s=n.move,d=n.setMove,_=u.useElementMouseDownPosition(),v=u.useElementMouseMovePosition();r.useLayoutEffect((function(){if(a){var e=o.onMouseDown(c.current,(function(e){e.preventDefault(),e.stopPropagation(),f(null)})),t=o.onMouseDown(l.current,(function(e){e.preventDefault(),e.stopPropagation();var t=_(e,c),n={x:t.x-a.left,y:t.y-a.top};d(n)}));return function(){e(),t()}}}),[a]),r.useLayoutEffect((function(){if(s){var e=o.onMouseMove((function(e){e.preventDefault(),e.stopPropagation();var n=v(e,s,l);l.current.style.transform="translate("+n.x+"px, "+n.y+"px)",t.current(n)})),n=o.onMouseUp(window,(function(){d(null),f(null)}));return function(){e(),n()}}}),[a,s])}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(1),i=n(4),a=r(n(9)),f=n(8),l=r(n(51)),c=r(n(52));t.default=function(){var e=f.useSelect().boundary,t=u.usePanZoom(),n=t.childRef,r=t.onElementsChange,s=t.zoomRef,d=i.useElements().elementsRef,_=o.useRef();return o.useLayoutEffect((function(){if(e){var t=l.default(e,d.current),o=c.default(t),u=null;return _.current=function(e){u||(u=e);var i={};Object.entries(t).forEach((function(t){var r=t[0],f=t[1],l=o[r],c=f.node,_=a.default({element:f.node.current,container:n.current,x:l.x+(e.x-u.x),y:l.y+(e.y-u.y),zoom:s.current});d.current[f.id].position=_,i[r]=_,c.current.style.transform="translate("+_.x+"px, "+_.y+"px)"})),r&&r(i)},function(){_.current=null}}}),[e]),_}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={};return Object.entries(t).forEach((function(t){var r=t[0],o=t[1];o.position.x>=e.left&&o.position.x<=e.right&&o.position.y>=e.top&&o.position.y<=e.bottom&&(n[r]=o)})),n}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],o=e[1];t[n]=r({},o.position)})),t}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(54);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return u(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=i(n(0)),l=n(1),c=n(5),s=n(4),d=n(6),_=a(n(7)),v=a(n(2)),p=a(n(17)),h=a(n(12)),m=n(20),O=2;t.default=f.memo((function(e){var t=e.children,n=e.className,o=e.disabled,u=void 0!==o&&o,i=e.draggableSelector,a=e.family,E=e.followers,y=void 0===E?[]:E,M=e.id,b=e.onClick,g=e.onMouseUp,R=e.x,P=void 0===R?0:R,S=e.y,D=void 0===S?0:S;if(!M)throw new Error("'id' prop for element can't be undefined");var T=f.useState(!1),j=T[0],L=T[1],N=f.useRef(),x=m.useElementMouseDownPosition(),A=m.useElementMouseMovePosition(),w=l.usePanZoom(),C=w.blockMovingRef,z=w.boundary,I=w.disabledElements,Z=w.onElementsChangeRef,Y=s.useElements(),B=Y.elementsInMove,U=Y.elementsRef,G=Y.lastElementMouseMoveEventRef,H=Y.setElementsInMove,X=function(e){H(e),L(!!e)};f.useLayoutEffect((function(){var e={x:P,y:D};return N.current.style.transform=v.default({position:e}),U.current[M]={family:a,id:M,node:N,position:e},function(){delete U.current[M]}}),[M,P,D]),f.useEffect((function(){if(!I&&j){var e=d.onMouseUp(N.current,(function(e){X(null),g&&g(r({id:M,family:a,e:e},U.current[M].position))}));return function(){e()}}}),[I,M,j]),f.useEffect((function(){if(!I&&B&&j){var e=d.onMouseMove((function(e){C.current?X(null):(G.current=_.default(e),h.default({elementsRef:U,elementsInMove:B,produceNextPosition:function(t,n){return A(e,t,n.node)},onElementsChange:Z.current}))}));return function(){e(),j&&H(null)}}}),[JSON.stringify(z),I,B,M,j]),f.useLayoutEffect((function(){if(!u){return d.onMouseDown(N.current,(function(e){if(!i||e.target.closest(i)){var t=Object.values(U.current).filter((function(e){return e.id===M||a&&e.family===a||y.includes(e.id)})),n=x(e,N),o=p.default();b&&b(r({id:M,family:a,e:e,stop:o},n)),e.preventDefault(),e.stopPropagation(),o.done||(X(t.reduce((function(t,n){return t[n.id]=x(e,n.node),t}),{})),O+=1,N.current.style.zIndex=O.toString())}}))}}),[u,a,JSON.stringify(y),M]);var k=f.useMemo((function(){var e="react-panzoom-element",t=[e];return n&&t.push(n),u&&t.push(e+"--disabled"),t.push(e+"--id-"+M),t.join(" ")}),[n,u,M]),K=f.useMemo((function(){var e=r({},c.ELEMENT_STYLE);return u&&(e=r(r({},e),c.ELEMENT_STYLE_DISABLED)),e}),[u]);return f.default.createElement("div",{ref:N,className:k,style:K},t)}))}]);